<svg xmlns="http://www.w3.org/2000/svg" width="500" height="530" viewBox="0 0 500 530">

  <!-- Background -->
  <rect width="500" height="530" fill="#f9f9fb" rx="8" stroke="#dde" stroke-width="1"/>

  <!-- Title -->
  <text x="250" y="26" text-anchor="middle"
        font-family="'Microsoft YaHei', 'PingFang SC', Arial, sans-serif"
        font-size="14" font-weight="bold" fill="#222">A* 搜索过程示意图（10×10 栅格）</text>

  <!-- Grid starts at (55, 46), cell size = 38 -->
  <!-- Cell (row, col) top-left: (55 + col*38, 46 + row*38) -->

  <!-- ===== Cell fills (draw before grid lines) ===== -->

  <!-- Obstacles (dark gray): (3,5),(4,5),(4,6),(5,5),(5,6),(5,7) -->
  <rect x="245" y="160" width="38" height="38" fill="#555"/> <!-- (3,5) -->
  <rect x="245" y="198" width="38" height="38" fill="#555"/> <!-- (4,5) -->
  <rect x="283" y="198" width="38" height="38" fill="#555"/> <!-- (4,6) -->
  <rect x="245" y="236" width="38" height="38" fill="#555"/> <!-- (5,5) -->
  <rect x="283" y="236" width="38" height="38" fill="#555"/> <!-- (5,6) -->
  <rect x="321" y="236" width="38" height="38" fill="#555"/> <!-- (5,7) -->

  <!-- Closed set (evaluated, light gray):
       rows 1-5, cols 0-4, excluding obstacles and path -->
  <!-- Row 1: cols 0-3 -->
  <rect x="55"  y="84"  width="38" height="38" fill="#d5d8dc"/>  <!-- (1,0) -->
  <rect x="93"  y="84"  width="38" height="38" fill="#d5d8dc"/>  <!-- (1,1) START - will be overwritten -->
  <rect x="131" y="84"  width="38" height="38" fill="#d5d8dc"/>  <!-- (1,2) -->
  <rect x="169" y="84"  width="38" height="38" fill="#d5d8dc"/>  <!-- (1,3) -->
  <!-- Row 2: cols 0-4 -->
  <rect x="55"  y="122" width="38" height="38" fill="#d5d8dc"/>  <!-- (2,0) -->
  <rect x="93"  y="122" width="38" height="38" fill="#d5d8dc"/>  <!-- (2,1) -->
  <rect x="131" y="122" width="38" height="38" fill="#d5d8dc"/>  <!-- (2,2) -->
  <rect x="169" y="122" width="38" height="38" fill="#d5d8dc"/>  <!-- (2,3) -->
  <rect x="207" y="122" width="38" height="38" fill="#d5d8dc"/>  <!-- (2,4) -->
  <!-- Row 3: cols 0-4 -->
  <rect x="55"  y="160" width="38" height="38" fill="#d5d8dc"/>  <!-- (3,0) -->
  <rect x="93"  y="160" width="38" height="38" fill="#d5d8dc"/>  <!-- (3,1) -->
  <rect x="131" y="160" width="38" height="38" fill="#d5d8dc"/>  <!-- (3,2) -->
  <rect x="169" y="160" width="38" height="38" fill="#d5d8dc"/>  <!-- (3,3) -->
  <rect x="207" y="160" width="38" height="38" fill="#d5d8dc"/>  <!-- (3,4) -->
  <!-- Row 4: cols 0-4 -->
  <rect x="55"  y="198" width="38" height="38" fill="#d5d8dc"/>  <!-- (4,0) -->
  <rect x="93"  y="198" width="38" height="38" fill="#d5d8dc"/>  <!-- (4,1) -->
  <rect x="131" y="198" width="38" height="38" fill="#d5d8dc"/>  <!-- (4,2) -->
  <rect x="169" y="198" width="38" height="38" fill="#d5d8dc"/>  <!-- (4,3) -->
  <rect x="207" y="198" width="38" height="38" fill="#d5d8dc"/>  <!-- (4,4) -->
  <!-- Row 5: cols 0-4 -->
  <rect x="55"  y="236" width="38" height="38" fill="#d5d8dc"/>  <!-- (5,0) -->
  <rect x="93"  y="236" width="38" height="38" fill="#d5d8dc"/>  <!-- (5,1) -->
  <rect x="131" y="236" width="38" height="38" fill="#d5d8dc"/>  <!-- (5,2) -->
  <rect x="169" y="236" width="38" height="38" fill="#d5d8dc"/>  <!-- (5,3) -->
  <rect x="207" y="236" width="38" height="38" fill="#d5d8dc"/>  <!-- (5,4) -->
  <!-- Row 6: cols 2-4 -->
  <rect x="131" y="274" width="38" height="38" fill="#d5d8dc"/>  <!-- (6,2) -->
  <rect x="169" y="274" width="38" height="38" fill="#d5d8dc"/>  <!-- (6,3) -->
  <rect x="207" y="274" width="38" height="38" fill="#d5d8dc"/>  <!-- (6,4) -->

  <!-- Open set (frontier, orange):
       (0,2),(1,4),(2,5),(3,6),(4,7),(6,6),(7,5) -->
  <rect x="131" y="46"  width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (0,2) -->
  <rect x="207" y="84"  width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (1,4) -->
  <rect x="245" y="122" width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (2,5) -->
  <rect x="283" y="160" width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (3,6) -->
  <rect x="321" y="198" width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (4,7) -->
  <rect x="283" y="274" width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (6,6) -->
  <rect x="245" y="312" width="38" height="38" fill="#f0883e" opacity="0.85"/>  <!-- (7,5) -->

  <!-- Path (green):
       (1,1),(2,2),(3,3),(4,4),(5,4),(6,4),(6,5),(7,5),(7,6),(8,7),(8,8) -->
  <rect x="93"  y="84"  width="38" height="38" fill="#58d68d"/>  <!-- (1,1) START - green path begins here -->
  <rect x="131" y="122" width="38" height="38" fill="#58d68d"/>  <!-- (2,2) -->
  <rect x="169" y="160" width="38" height="38" fill="#58d68d"/>  <!-- (3,3) -->
  <rect x="207" y="198" width="38" height="38" fill="#58d68d"/>  <!-- (4,4) -->
  <rect x="207" y="236" width="38" height="38" fill="#58d68d"/>  <!-- (5,4) -->
  <rect x="207" y="274" width="38" height="38" fill="#58d68d"/>  <!-- (6,4) -->
  <rect x="245" y="274" width="38" height="38" fill="#58d68d"/>  <!-- (6,5) -->
  <rect x="245" y="312" width="38" height="38" fill="#58d68d"/>  <!-- (7,5) -->
  <rect x="283" y="312" width="38" height="38" fill="#58d68d"/>  <!-- (7,6) -->
  <rect x="321" y="350" width="38" height="38" fill="#58d68d"/>  <!-- (8,7) -->
  <rect x="359" y="350" width="38" height="38" fill="#58d68d"/>  <!-- (8,8) END - will show E marker -->

  <!-- ===== Grid lines ===== -->
  <!-- Vertical lines: x = 55 to 435, every 38 -->
  <line x1="55"  y1="46" x2="55"  y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="93"  y1="46" x2="93"  y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="131" y1="46" x2="131" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="169" y1="46" x2="169" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="207" y1="46" x2="207" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="245" y1="46" x2="245" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="283" y1="46" x2="283" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="321" y1="46" x2="321" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="359" y1="46" x2="359" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="397" y1="46" x2="397" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <line x1="435" y1="46" x2="435" y2="426" stroke="#aaa" stroke-width="0.7"/>
  <!-- Horizontal lines: y = 46 to 426, every 38 -->
  <line x1="55" y1="46"  x2="435" y2="46"  stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="84"  x2="435" y2="84"  stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="122" x2="435" y2="122" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="160" x2="435" y2="160" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="198" x2="435" y2="198" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="236" x2="435" y2="236" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="274" x2="435" y2="274" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="312" x2="435" y2="312" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="350" x2="435" y2="350" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="388" x2="435" y2="388" stroke="#aaa" stroke-width="0.7"/>
  <line x1="55" y1="426" x2="435" y2="426" stroke="#aaa" stroke-width="0.7"/>

  <!-- ===== S and E markers ===== -->
  <!-- Start S at (1,1): center = (93+19, 84+19) = (112, 103) -->
  <text x="112" y="109" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="15" font-weight="bold" fill="#1a5276">S</text>
  <!-- End E at (8,8): center = (359+19, 350+19) = (378, 369) -->
  <text x="378" y="375" text-anchor="middle"
        font-family="Arial, sans-serif"
        font-size="15" font-weight="bold" fill="#922b21">E</text>

  <!-- ===== Obstacle cross markers ===== -->
  <text x="264" y="184" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>
  <text x="264" y="222" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>
  <text x="302" y="222" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>
  <text x="264" y="260" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>
  <text x="302" y="260" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>
  <text x="340" y="260" text-anchor="middle"
        font-family="Arial" font-size="18" fill="white" opacity="0.8">✕</text>

  <!-- ===== f(n) values on path cells ===== -->
  <text x="112" y="128" text-anchor="middle"
        font-family="Arial, sans-serif" font-size="8" fill="#1a5276">f=2</text>
  <text x="150" y="166" text-anchor="middle"
        font-family="Arial, sans-serif" font-size="8" fill="#1a5276">f=4</text>
  <text x="188" y="204" text-anchor="middle"
        font-family="Arial, sans-serif" font-size="8" fill="#1a5276">f=6</text>

  <!-- ===== Legend ===== -->
  <g transform="translate(25, 442)">
    <!-- Start -->
    <rect x="0" y="-10" width="18" height="18" fill="#58d68d" stroke="#aaa" stroke-width="0.7"/>
    <text x="10" y="2" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#1a5276">S</text>
    <text x="24" y="4" font-family="'Microsoft YaHei', Arial, sans-serif" font-size="10" fill="#333">起点/路径</text>

    <rect x="105" y="-10" width="18" height="18" fill="#d5d8dc" stroke="#aaa" stroke-width="0.7"/>
    <text x="119" y="4" font-family="'Microsoft YaHei', Arial, sans-serif" font-size="10" fill="#333">关闭集（已评估）</text>

    <rect x="240" y="-10" width="18" height="18" fill="#f0883e" opacity="0.85" stroke="#aaa" stroke-width="0.7"/>
    <text x="264" y="4" font-family="'Microsoft YaHei', Arial, sans-serif" font-size="10" fill="#333">开放集（待评估）</text>

    <rect x="375" y="-10" width="18" height="18" fill="#555" stroke="#aaa" stroke-width="0.7"/>
    <text x="399" y="4" font-family="'Microsoft YaHei', Arial, sans-serif" font-size="10" fill="#333">障碍物</text>
  </g>

  <!-- g(n), h(n) legend note -->
  <text x="250" y="510" text-anchor="middle"
        font-family="'Microsoft YaHei', Arial, sans-serif"
        font-size="9" fill="#888">f(n) = g(n) [已走代价] + h(n) [启发估计]，优先扩展 f 最小节点</text>
</svg>
